{"version":3,"sources":["../../src/pages/addphoto2/addphoto2.module.ts","../../src/pages/addphoto2/addphoto2.ts"],"names":[],"mappings":"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","file":"24.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { Addphoto2Page } from './addphoto2';\n\n@NgModule({\n  declarations: [\n    Addphoto2Page,\n  ],\n  imports: [\n    IonicPageModule.forChild(Addphoto2Page),\n  ],\n})\nexport class Addphoto2PageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/addphoto2/addphoto2.module.ts","import { Component } from '@angular/core';\nimport { \n  NavController, \n  Loading,\n  LoadingController,\n  ActionSheetController\n  } from 'ionic-angular';\nimport { ProfileProvider } from '../../providers/profile/profile';\nimport { Camera, CameraOptions } from '@ionic-native/camera';\nimport { PopUpProvider } from '../../providers/pop-up/pop-up';\nimport { HTTP } from '@ionic-native/http';\nimport * as firebase from 'firebase/app';\nimport { IonicPage } from 'ionic-angular';\nimport {Headers} from '@angular/http';\nimport { SettingsProvider } from '../../providers/settings/settings';\nimport { LanguageProvider } from '../../providers/language/language';\n\n/**\n * Generated class for the Addphoto2Page page.\n *\n * See http://ionicframework.com/docs/components/#navigation for more info\n * on Ionic pages and navigation.\n */\n\n@IonicPage()\n@Component({\n  selector: 'page-addphoto2',\n  templateUrl: 'addphoto2.html',\n})\nexport class Addphoto2Page {\n  public completed: boolean = false;\n  captureDataUrl: string;\n  captureDataUrl2: string;\n  captureDataUrl3: string;\n  loading: Loading;\n  profileUploaded: boolean = false;\n  licenceUploaded: boolean = false;\n  NidUploaded: boolean = false;\n\n  constructor(public navCtrl: NavController, public http:HTTP, public lp: LanguageProvider, public settings: SettingsProvider, public actionSheetCtrl: ActionSheetController, public pop: PopUpProvider,  public ph: ProfileProvider, public camera: Camera, public loadingCtrl: LoadingController,) {\n    \n  }\n\n  ionViewDidLoad() {\n    console.log('ionViewDidLoad Addphoto2Page');\n  }\n\n\n  Next(){\n    if (this.profileUploaded){\n    \n    } \n   \n  else{\n    this.pop.showAlertNormal(this.lp.translate()[0].b5, \"\", false)\n  }\n     \n  }\n\n\n\n  send(subject: string, message: string, email: string) {\n    \n    var url = \"https://api.mailgun.net/v3/\" + this.settings.mailGUrl + \"/messages\";\n    let body = {\n      \"from\": email,\n      \"to\": this.settings.companyMail,\n      \"subject\": subject,\n      \"html\": \"<html><body>First Name: \" + this.settings.appName + \"<br>\" + \"Last Name: \" + this.settings.appLink + \"<br>\" + \"Email: \" + email + \"<br>\" + \"Subject: \" + subject + \"<br><br>\" + \"Message: \" + message + \"</body></html>\"\n    }\n    let headers = {\n      \"Authorization\": \"Basic \" + this.settings.mailGKey,\n      \"Content-Type\": \"application/x-www-form-urlencoded\"\n\n    };\n\n    this.pop.showLoader('')\n   \n    this.http.post(url, body, headers).then(data => {\n      this.pop.hideLoader();\n      console.log(\"SUCCESS -> \" + JSON.stringify(data));\n      this.navCtrl.setRoot('WaitingPage');\n    }).catch(error=>{\n      alert(error)\n    })\n}\n\n \n\n\nchoosePic_1() {\n  let actionSheet = this.actionSheetCtrl.create({\n    title: this.lp.translate()[0].b6,\n    buttons: [\n      {\n        text: this.lp.translate()[0].b8,\n        icon: 'ios-folder',\n        handler: () => {\n         this.captureFromFile()\n        }\n      },{\n        text: this.lp.translate()[0].b9,\n        icon: 'close',\n        role: 'cancel',\n        handler: () => {\n          console.log('Cancel clicked');\n        }\n      }\n    ]\n  });\n  actionSheet.present();\n}\n\n\n\n  capture() {\n    const options: CameraOptions = {\n      quality: 40,\n      targetWidth: 300,\n      targetHeight: 200,\n      sourceType: this.camera.PictureSourceType.CAMERA,\n      destinationType: this.camera.DestinationType.DATA_URL,\n      encodingType: this.camera.EncodingType.JPEG,\n      mediaType: this.camera.MediaType.PICTURE,\n    }\n\n    this.camera.getPicture(options).then((imageData) => {\n      this.captureDataUrl = 'data:image/jpeg;base64,' + imageData;\n       this.processProfilePicture(this.captureDataUrl)\n \n     \n    }, (err) => {\n      // Handle error\n    });\n  }\n\n  captureFromFile() {\n    \n    const options: CameraOptions = {\n      quality: 40,\n      targetWidth: 300,\n      targetHeight: 200,\n      sourceType: this.camera.PictureSourceType.PHOTOLIBRARY,\n      destinationType: this.camera.DestinationType.DATA_URL,\n      encodingType: this.camera.EncodingType.JPEG,\n      mediaType: this.camera.MediaType.PICTURE,\n\n    }\n       \n        this.camera.getPicture(options).then((imageData) => {\n          this.captureDataUrl = 'data:image/jpeg;base64,' + imageData;\n          \n          this.processProfilePicture(this.captureDataUrl)\n         \n        })\n      }\n\n\n\nprocessProfilePicture(captureData) {\nlet storageRef = firebase.storage().ref();\n// Create a timestamp as filename\nconst filename = Math.floor(Date.now() / 1000);\nthis.loading = this.loadingCtrl.create();\nthis.loading.present();\n// Create a reference to 'images/todays-date.jpg'\nconst imageRef = storageRef.child(`driverPictures/${filename}.jpg`);\n\nimageRef.putString(captureData, firebase.storage.StringFormat.DATA_URL).then((snapshot)=> {\n  imageRef.getDownloadURL().then(url => {\n    console.log(url)\n   this.ph.UpdatePPhotoInfo(url).then( success =>{\n    console.log(url)\n    this.loading.dismiss()\n      console.log(\"done\")\n      this.navCtrl.setRoot('WaitingPage');\n    // this.send(this.lp.translate()[0].b3, this.lp.translate()[0].b4 + this.settings.appDashboard, 'support@roadracers.ng')\n\n}).catch( error =>{ this.pop.alertMe('Check Your Internet Connection and try again')});\n  }).catch( error =>{ this.pop.alertMe('Check Your Internet Connection and try again')});\n}).catch( error =>{ this.pop.alertMe('Check Your Internet Connection and try again')});\n}\n\n\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/addphoto2/addphoto2.ts"],"sourceRoot":""}