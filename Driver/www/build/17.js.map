{"version":3,"sources":["../../src/pages/history/history.module.ts","../../src/pages/history/history.ts"],"names":[],"mappings":"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","file":"17.js","sourcesContent":["import { NgModule } from '@angular/core';\r\nimport { IonicPageModule } from 'ionic-angular';\r\nimport { HistoryPage } from './history';\r\n@NgModule({\r\n\tdeclarations: [\r\n\t\tHistoryPage\r\n\t],\r\n\timports: [\r\n\t\tIonicPageModule.forChild(HistoryPage)\r\n\t],\r\n\tentryComponents: [\r\n\t\tHistoryPage\r\n\t]\r\n})\r\nexport class HistoryPageModule { }\n\n\n// WEBPACK FOOTER //\n// ./src/pages/history/history.module.ts","import { Component } from '@angular/core';\nimport { NavController, AlertController, LoadingController } from 'ionic-angular';\nimport { EventProvider } from '../../providers/event/event';\nimport { ProfileProvider } from '../../providers/profile/profile';\nimport { IonicPage } from 'ionic-angular';\nimport { PopUpProvider } from '../../providers/pop-up/pop-up';\nimport { SettingsProvider } from '../../providers/settings/settings';\nimport { LanguageProvider } from '../../providers/language/language';\n\n@IonicPage()\n@Component({\n  selector: 'page-history',\n  templateUrl: 'history.html',\n})\nexport class HistoryPage {\n  public eventList: Array<any>;\n  public earnings: any;\n  constructor(public navCtrl: NavController, public lp: LanguageProvider, public settings: SettingsProvider, public pop: PopUpProvider, public load: LoadingController, public profile: ProfileProvider, public alert: AlertController, public eventProvider: EventProvider) {\n  }\n\n  ionViewDidEnter() {\n    this.eventProvider.getEventList().on('value', snapshot => {\n      this.eventList = [];\n      snapshot.forEach( snap => {\n        this.eventList.push({\n          id: snap.key,\n          name: snap.val().name,\n          price: snap.val().price,\n          paid: snap.val().paid,\n          date: snap.val().date,\n          location: snap.val().location,\n          destination: snap.val().destination,\n          hidden: snap.val().hidden\n        });\n        return false\n      });\n    });\n\n\n    this.presentRouteLoader(this.lp.translate()[0].c4);\n\n    this.profile.getUserProfile().on('value', userProfileSnapshot => {\n      this.earnings = userProfileSnapshot.val().earnings\n    })\n\n   \n  }\n\n  \n\n\n  presentRouteLoader(message) {\n    let loading = this.load.create({\n      content: message\n    });\n  \n    loading.present();\n  \n    let myInterval = setInterval(() => {\n    if (this.eventList != null){\n      loading.dismiss();\n      clearInterval(myInterval)\n    }\n      \n    }, 1000);\n  }\n\n  goToEventDetail(eventId){\n    this.navCtrl.push('HistorydetailPage', { 'eventId': eventId });\n  }\n\n\n \n\n  // Request(eventId){\n  //   let alert = this.alert.create({\n  //     title: this.lp.translate()[0].c5,\n  //     buttons: [ {\n  //       text: this.lp.translate()[0].c6,\n  //       role: 'cancel',\n  //       handler: () => {\n\n  //       }\n  //     },\n  //     {\n  //       text: this.lp.translate()[0].c7,\n  //       handler: () => {\n  //         this.eventProvider.getEventDetail(eventId).update({\n  //           paid: 2,\n  //         }).then((suc) =>{\n  //           this.pop.alertMe('Your Request Has Been Recieved And Is Biegn Processed. This May Take Up To 30 minutes')\n  //         });\n          \n  //     }\n  //     },],\n  //     enableBackdropDismiss: false \n  //   });\n  //   alert.present();\n  // }\n\n  Delete(eventId){\n    let alert = this.alert.create({\n      title: this.lp.translate()[0].c5,\n      buttons: [ {\n        text: this.lp.translate()[0].c6,\n        role: 'cancel',\n        handler: () => {\n\n        }\n      },\n      {\n        text: this.lp.translate()[0].c7,\n        handler: () => {\n          this.eventProvider.getEventDetail(eventId).update({\n            hidden: true\n          }).then((success) =>{\n          })\n      }\n      },],\n      enableBackdropDismiss: false \n    });\n    alert.present();\n  }\n\n  \n\n}\n\n\n// WEBPACK FOOTER //\n// ./src/pages/history/history.ts"],"sourceRoot":""}