{"version":3,"sources":["../../src/pages/historydetail/historydetail.module.ts","../../src/pages/historydetail/historydetail.ts"],"names":[],"mappings":"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","file":"16.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { HistorydetailPage } from './historydetail';\n\n@NgModule({\n  declarations: [\n    HistorydetailPage,\n  ],\n  imports: [\n    IonicPageModule.forChild(HistorydetailPage),\n  ],\n})\nexport class HistorydetailPageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/historydetail/historydetail.module.ts","import { Component } from '@angular/core';\nimport { NavController, NavParams, AlertController } from 'ionic-angular';\nimport { EventProvider } from '../../providers/event/event';\nimport { IonicPage } from 'ionic-angular';\nimport { SettingsProvider } from '../../providers/settings/settings';\nimport { LanguageProvider } from '../../providers/language/language';\ndeclare var google;\n/**\n * Generated class for the HistorydetailPage page.\n *\n * See http://ionicframework.com/docs/components/#navigation for more info\n * on Ionic pages and navigation.\n */\n\n@IonicPage()\n@Component({\n  selector: 'page-historydetail',\n  templateUrl: 'historydetail.html',\n})\nexport class HistorydetailPage {\n\n  constructor(public navCtrl: NavController, public alert: AlertController, public lp: LanguageProvider, public navParams: NavParams, public settings: SettingsProvider,\n    public eventProvider: EventProvider) {}\n    public currentEvent: any = {};\n \n \n    ionViewDidLoad() {\n    this.eventProvider.getEventDetail(this.navParams.get('eventId'))\n    .on('value', eventSnapshot => {\n      this.currentEvent = eventSnapshot.val();\n      this.currentEvent.id = eventSnapshot.key;\n      console.log(this.currentEvent.location);\n      // if (this.currentEvent.location && this.currentEvent.destination)\n      // this.GetRoute(this.currentEvent.location, this.currentEvent.destination);\n    });\n  }\n\n\n  GetRoute(location, destination) {\n    var source, destination;\n    var directionsService = new google.maps.DirectionsService();\n    let directionsDisplay = new google.maps.DirectionsRenderer({ 'draggable': true });\n    var mumbai = new google.maps.LatLng(18.9750, 72.8258);\n    var mapOptions = {\n        zoom: 7,\n        center: mumbai\n    };\n    let map = new google.maps.Map(document.getElementById('dvMap'), mapOptions);\n    directionsDisplay.setMap(map);\n    //directionsDisplay.setPanel(document.getElementById('dvPanel'));\n  \n    //*********DIRECTIONS AND ROUTE**********************//\n    source = location;\n    destination = destination;\n  \n    var request = {\n        origin: source,\n        destination: destination,\n        travelMode: google.maps.TravelMode.DRIVING\n    };\n    directionsService.route(request,  (response, status) => {\n        if (status == google.maps.DirectionsStatus.OK) {\n            directionsDisplay.setDirections(response);\n        }\n    });\n  \n    //*********DISTANCE AND DURATION**********************//\n    var service = new google.maps.DistanceMatrixService();\n    service.getDistanceMatrix({\n        origins: [source],\n        destinations: [destination],\n        travelMode: google.maps.TravelMode.DRIVING,\n        unitSystem: google.maps.UnitSystem.METRIC,\n        avoidHighways: false,\n        avoidTolls: false\n    },  (response, status) => {\n        if (status == google.maps.DistanceMatrixStatus.OK && response.rows[0].elements[0].status != \"ZERO_RESULTS\") {\n            var distance = response.rows[0].elements[0].distance.text;\n            var duration = response.rows[0].elements[0].duration.text;\n            // var dvDistance = document.getElementById(\"dvDistance\");\n            //  dvDistance.innerHTML = \"\";\n            // dvDistance.innerHTML += \"Distance: \" + distance + \"<br />\";\n            // dvDistance.innerHTML += \"Duration:\" + duration;\n  \n        } else {\n            alert(\"Unable to find the distance via road.\");\n        }\n    });\n  }\n\n  Delete(eventId){\n    let alert = this.alert.create({\n      title: this.lp.translate()[0].c5,\n      buttons: [ {\n        text: this.lp.translate()[0].c6,\n        role: 'cancel',\n        handler: () => {\n\n        }\n      },\n      {\n        text: this.lp.translate()[0].c7,\n        handler: () => {\n          this.eventProvider.getEventDetail(eventId).update({\n            hidden: true\n          }).then((success) =>{\n          })\n      }\n      },],\n      enableBackdropDismiss: false \n    });\n    alert.present();\n  }\n\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/historydetail/historydetail.ts"],"sourceRoot":""}