{"version":3,"sources":["../../src/pages/promo/promo.module.ts","../../src/pages/promo/promo.ts"],"names":[],"mappings":"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","file":"10.js","sourcesContent":["import { NgModule } from '@angular/core';\r\nimport { IonicPageModule } from 'ionic-angular';\r\nimport { PromoPage } from './promo';\r\n@NgModule({\r\n\tdeclarations: [\r\n\t\tPromoPage\r\n\t],\r\n\timports: [\r\n\t\tIonicPageModule.forChild(PromoPage),\r\n\t],\r\n\tentryComponents: [\r\n\t\tPromoPage\r\n\t]\r\n})\r\nexport class PromoPageModule { }\n\n\n// WEBPACK FOOTER //\n// ./src/pages/promo/promo.module.ts","import { Component } from '@angular/core';\nimport {  NavParams, LoadingController, Loading,\n  AlertController, NavController, Platform  } from 'ionic-angular';\nimport { FormBuilder, Validators, FormGroup } from '@angular/forms';\nimport { HTTP } from '@ionic-native/http';\nimport { IonicPage } from 'ionic-angular';\nimport { PopUpProvider } from '../../providers/pop-up/pop-up';\nimport { EventProvider } from '../../providers/event/event';\nimport { LanguageProvider } from '../../providers/language/language';\nimport { SettingsProvider } from '../../providers/settings/settings';\nimport { ProfileProvider } from '../../providers/profile/profile';\nimport { SocialSharing } from '@ionic-native/social-sharing';\n@IonicPage()\n/**\n * Generated class for the PromoPage page.\n *\n * See http://ionicframework.com/docs/components/#navigation for more info\n * on Ionic pages and navigation.\n */\n\n@Component({\n  selector: 'page-promo',\n  templateUrl: 'promo.html',\n})\nexport class PromoPage {\n  randomCode: any = 'ftdyud'\n  public cardpaymentForm: FormGroup;\n  loading: Loading;\n  earnings: any = 0;\n  public eventList: Array<any>;\n  message: string = null;\n  file: string = null;\n  link: string = null;\n  subject: string = null;\n  \n  constructor(public ph: ProfileProvider, public http:HTTP, public share : SocialSharing, public lp: LanguageProvider, public pop: PopUpProvider, public eProvider: EventProvider, public platform: Platform, public nav: NavController, public navParams: NavParams,public loadingCtrl: LoadingController, \n    public alertCtrl: AlertController,   public settings: SettingsProvider,\n    public formBuilder: FormBuilder) {\n     this.pop.showLoader('Getting referal Earnings')\n      this.ph.getUserProfile().on('value', userProfileSnapshot => {\n        if (userProfileSnapshot.val() != null){\n          this.earnings = userProfileSnapshot.val().refEarnings;\n          this.randomCode = userProfileSnapshot.val().id;\n          console.log(this.randomCode)\n        }else{\n          this.earnings = 0\n        }\n       \n        this.pop.hideLoader();\n      })\n\n      this.cardpaymentForm = formBuilder.group({\n        card: ['', Validators.compose([Validators.maxLength(4), Validators.required])],\n      });\n  }\n\n  ionViewDidEnter() {\n    // this.pop.presentLoader('Retrieving...')\n    this.message = 'Use ' + this.randomCode + ' as referal code to Register in Ajetaxi Driver '\n   }\n\n\n   FaceShare(){\n    this.share.share(this.message, this.subject, this.file, this.link).then(()=>{\n       \n    }).catch(()=> {\n     \n    })\n   }\n\n\n   Request(){\n     this.send('A user wants to request: ' + this.ph.city, 'Trace the driver information to the admin', this.ph.email)\n     this.pop.showPimp('You Have Made A Request And Your Payment Is Processing...')\n   }\n\n\n   send(subject: string, message: string, email: string) {\n    \n    var url = \"https://api.mailgun.net/v3/\" + this.settings.mailGUrl + \"/messages\";\n    let body = {\n      \"from\": email,\n      \"to\": this.settings.companyMail,\n      \"subject\": subject,\n      \"html\": \"<html><body>First Name: \" + this.settings.appName + \"<br>\" + \"Last Name: \" + this.settings.appLink + \"<br>\" + \"Email: \" + email + \"<br>\" + \"Subject: \" + subject + \"<br><br>\" + \"Message: \" + message + \"</body></html>\"\n    }\n    let headers = {\n      \"Authorization\": \"Basic \" + this.settings.mailGKey,\n      \"Content-Type\": \"application/x-www-form-urlencoded\"\n\n    };\n\n    //this.pop.showLoader('')\n   \n    this.http.post(url, body, headers).then(data => {\n     \n      console.log(\"SUCCESS -> \" + JSON.stringify(data));\n      \n    }).catch(error=>{\n      console.log(error)\n    })\n}\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/promo/promo.ts"],"sourceRoot":""}